<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet">
      <link rel="stylesheet" href="Bootstrap/css/bootstrap.min.css"> 
    <!-- <link rel="stylesheet" href="Bootstrap/css/bootstrap-utilities.css""> -->
    <link rel="stylesheet" href="Fontawesome/css/all.min.css"> 

    <style>
        /* Ensure dropdown menu appears on hover */
        .navbar-nav .nav-item:hover .dropdown-menu {
            display: block;
        }

        /* Optional: Hide the dropdown menu by default */
        .dropdown-menu {
            display: none;
            position: absolute;
            top: 100%; /* Aligns dropdown below the parent */
            left: 0;
            z-index: 1000; /* Ensures it appears above other elements */
        }

        /* Optional: Style for the dropdown menu */
        .dropdown-menu a {
            color: black;
            text-decoration: none;
            padding: 10px 20px;
        }

        .dropdown-menu a:hover {
            background-color: #e4e8ed;  
        }

        /* for text animation of title */
        .classic-smart-text-container {
            text-align: left; /* or center if you want it centered */
        }

        .classic-smart-text {
            font-size: 20px;
            color: #2c3e50; /* Classic dark blue color */
            letter-spacing: 1.5px; /* Slightly increased letter spacing for elegance */
            text-transform: uppercase; /* Uppercase text for a strong, classic look */
            position: relative;
            display: inline-block;
            padding-bottom: 5px;
            margin-bottom: 20px;
            cursor: pointer; /* Changes the cursor to pointer on hover */
        }

        .classic-smart-text::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background-color: #2c3e50; /* Same color as the text */
            left: 50%;
            bottom: 0;
            transition: all 0.3s ease-out;
            transform: translateX(-50%);
        }

        .classic-smart-text:hover::after {
            width: 100%;
        } 
    </style>
    
    <!-- <link rel="stylesheet" href="./style.css"> -->
  </head>

  <body style="background-color:beige">
    <nav class="navbar navbar-expand-lg fs-3" style="background-color:rgb(196, 239, 112);font-family: Verdana;">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <img src="https://img.icons8.com/color/48/000000/mongodb.png" alt="MongoDB Icon" style="max-width: 30px">
            <a class="navbar-brand" href="/">Mongo db</a>
        </a>
        <a class="navbar-brand" href="/">
            <img src="https://avatars.githubusercontent.com/u/17219288?s=200&v=4" alt="Prisma Icon" style="max-width: 30px">
            <a class="navbar-brand" href="/">Prisma</a>
        </a>
        
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
         <div class="collapse  navbar-collapse fs-4" id="navbarNavDropdown"> 
                        <ul class="navbar-nav ms-auto">
                            <!-- <li class="nav-item">
                                <a class="nav-link mx-4 fs-5" href="/posts/list">Home</a>
                            </li> -->
                            
                            <% if (userId) { %>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle fs-5" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Post
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <div class="dropdown-column">
                                            <a class="dropdown-item" href="/posts/create">Create New Post</a>
                                            <a class="dropdown-item" href="/posts">My Post List</a>
                                        </div> 
                                    </ul>
                                </li> 
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle mx-4 fs-5" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Category
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <div class="dropdown-column">
                                            <a class="dropdown-item" href="/categories/create">Create New Category</a>
                                            <a class="dropdown-item" href="/categories">My Category List</a>
                                        </div> 
                                    </ul>
                                </li>
                                <li class="nav-item" style="gap: 20px;">
                                  <a class="nav-link" href="/auth/logout">Logout</a>
                                </li>
                                <% } else { %>
                                <li class="nav-item" style="gap: 20px;"> 
                                  <i class="bi bi-postage"></i>
                                  <a class="nav-link" href="/posts/list">Posts</a>
                                </li>
                                <hr>
                                <li class="nav-item" style="gap: 20px;">
                                  <a class="nav-link" href="/categories">Categories</a>
                                </li>
                                <li class="nav-item" style="gap: 20px;">
                                  <a class="nav-link" href="/auth/login">Login</a>
                                </li>
                                <% } %>
                              </ul>
                              <form class="d-flex" role="search" method="get" action="/search">
                                <input
                                  class="form-control me-2"
                                  name="title"
                                  type="search"
                                  placeholder="Search"
                                  aria-label="Search"
                                />
                                <button class="btn btn-outline-success" type="submit">
                                  Search
                                </button>
                              </form>

                    </div> 
       
      </div>
    </nav>
    <main><%- body %></main>
    <!-- <script src="app.js"></script>    can directly link public\app.js (due to app.use(express.static(path.join(__dirname,'public'))); from app.js) -->
  </body>
</html>

